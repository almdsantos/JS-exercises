<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/gerais.css">
    <link rel="stylesheet" href="styles/cadastro.css">
    <title>Cadastro</title>
</head>
<body>
    <div class="login-container">
        <h2>Senac - Tabo√£o da Serra</h2><hr>
        <h1>CADASTRO</h1>
        <form action="#" method="post">
            <div class="inputBox">
                <input type="text" id="nome" name="nome" class="inputUser" required>
                <label class="label_input" for="nome">Nome</label>
            </div>
            <div class="inputBox">
                <input type="date" id="dataNasc" name="dataNasc" class="inputUser" required>
            </div>
            <div class="inputBox">
                <input type="email" id="email" name="email" class="inputUser" required>
                <label class="label_input" for="email">Informe o seu e-mail</label>
            </div>
            <div class="inputBox">
                <input type="number" id="telefone" name="telefone" class="inputUser" required>
                <label class="label_input" for="telefone">Informe o seu telefone</label>
            </div>
            <div class="inputBox">
                <input type="current-password" id="senha" name="senha" class="inputUser" required>
                <label class="label_input" for="senha">Informe a sua senha</label>
            </div>
            <div class="inputBox">
                <input type="current-password" id="senha" name="senha" class="inputUser" required>
                <label class="label_input" for="senha">Confirme a sua senha</label>
            </div>
            <div class="box">
                <button class="btnSubmit" type="submit" id="submit" name="confirmar">Cadastrar</button>
                <button class="btnCancel" type="button" class="cancel" id="btnCancelar" name="cancelar"><a href="index.html">Cancelar</a></button>
            </div>
        </form>
    </div>

    <script>
        var btnCadastro = document.querySelector("#submit");
        btnCadastro.addEventListener('click', async function(event){
            event.preventDefault();
            var nome = document.querySelector("#nome").value;
            var dataNasc = document.querySelector("#dataNasc").value;
            var email = document.querySelector("#email").value;
            var telefone = document.querySelector("#telefone").value;
            var senha = document.querySelector("#senha").value;


            const config = {
                method: "post",
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    nomeJS: nome,
                    dataNascJS: dataNasc,
                    emailJS: email,
                    telefoneJS: telefone,
                    senhaJS: senha
                })
            }
            const request = await fetch('controller/cadastro.php', config);
            const require = await request.json();

                if (require.status == 1){
                    alert("Cadastrado com sucesso");
                }
            }
        )
    </script>
    
</body>
</html>