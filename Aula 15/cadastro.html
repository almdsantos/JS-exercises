<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/gerais.css">
    <link rel="stylesheet" href="styles/cadastro.css">
    <title>Cadastro</title>
</head>
<body>
    <div class="login-container">
        <h2>Senac - Tabo√£o da Serra</h2><hr>
        <h1>CADASTRO</h1>
        <form action="#" method="post">
            <label for="nome">Nome</label><br>
            <input type="text" id="nome" name="nome" placeholder="Informe o seu nome" required><br>

            <label for="dataNasc">Data de Nascimento</label><br>
            <input type="date" id="dataNasc" name="dataNasc"><br>

            <label for="email">E-mail</label><br>
            <input type="email" id="email" name="email" placeholder="Informe o seu e-mail" ><br>

            <label for="telefone">Telefone</label><br>
            <input type="number" id="telefone" name="telefone" placeholder="Informe o seu telefone" ><br>

            <input type="current-password" id="senha" name="senha" placeholder="Informe a sua senha" ><br>

            <div class="button">
                <a href="index.html"><input id="cancel" type="button" name="cancelar" value="CANCELAR"></a>
                <input id="submit" type="submit" name="confirmar" value="CONFIRMAR">
            </div>

        </form>
    </div>

    <script>
        var btnCadastro = document.querySelector("#submit");
        btnCadastro.addEventListener('click', async function(event){
            event.preventDefault();
            var nome = document.querySelector("#nome").value;
            var dataNasc = document.querySelector("#dataNasc").value;
            var email = document.querySelector("#email").value;
            var telefone = document.querySelector("#telefone").value;
            var senha = document.querySelector("#senha").value;


            const config = {
                method: "post",
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    nomeJS: nome,
                    dataNascJS: dataNasc,
                    emailJS: email,
                    telefoneJS: telefone,
                    senhaJS: senha
                })
            }
            const request = await fetch('controller/controllerCadastro.php', config);
            const response = await request.json();

                if (response.status == 1){
                    alert("Foi");
                }
            }
        )
    </script>
    
</body>
</html>